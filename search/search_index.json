{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"DivBase","text":"<p>DivBase and its documentation is under development and is not yet released</p> <p>DivBase is currently in active development. Features, commands, and documentation will change before the official release.</p> <p>Welcome to DivBase. DivBase is a service built by Scilifelab for researchers at Swedish institutions and their collaborators to manage, query, and version VCF files and associated sample metadata.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Quick Start Guide</li> </ul> <p>TODO - add some tutorial links here?</p>"},{"location":"#what-is-divbase","title":"What is DivBase?","text":"<p>TODO. - Would be good with a diagram here too.</p>"},{"location":"#access-divbase","title":"Access DivBase","text":"<p>Want to use DivBase? Create an account or sign in at https://divbase.scilifelab.se.</p>"},{"location":"#getting-support","title":"Getting Support","text":"<ul> <li>TODO - decide what to put here? Email, GitHub issues, troubleshooting guide?</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing to DivBase","text":"<p>This guide describes how to add development contributions to DivBase, which we welcome from anyone.</p> <p>If you would like to suggest a more substantial change or new feature, please create a GitHub Issue first so we can discuss it.</p>"},{"location":"CONTRIBUTING/#ways-you-can-contribute","title":"Ways you can contribute","text":"<ul> <li>Bug Reports: Found a bug? Please report it via GitHub Issues</li> <li>Security vulnerabilities: Please report any security issues privately following the instructions in our Security Policy</li> <li>Documentation: Help improve our documentation by fixing typos, clarifying instructions, or adding new guides</li> <li>Feature Requests: Have an idea for a new feature? Consider opening an issue first so we can discuss it.</li> </ul>"},{"location":"CONTRIBUTING/#process","title":"Process","text":""},{"location":"CONTRIBUTING/#1-fork-and-clone-the-repository","title":"1. Fork and clone the repository","text":"<p>Start by forking the DivBase repository to your GitHub account.</p> <p>Clone your fork and create a branch for your changes:</p> <pre><code>git clone git@github.com:YOUR_USERNAME/divbase.git\ncd divbase\ngit checkout -b your-feature-branch\n</code></pre>"},{"location":"CONTRIBUTING/#2-set-up-your-development-environment","title":"2. Set up your development environment","text":"<p>Follow our Developer Setup Guide to get your local development environment running:</p>"},{"location":"CONTRIBUTING/#3-make-your-changes","title":"3. Make your changes","text":"<ul> <li>Write your code following our coding standards</li> <li>Add tests for new functionality</li> <li>Update documentation if needed</li> <li>Ensure all tests pass: <code>pytest -s</code></li> </ul>"},{"location":"CONTRIBUTING/#4-commit-and-push","title":"4. Commit and push","text":"<p>Write clear, descriptive commit messages:</p> <pre><code>git commit -m \"brief description of what you added\"\ngit push origin your-feature-branch\n</code></pre>"},{"location":"CONTRIBUTING/#opening-a-pull-request","title":"Opening a pull request","text":"<ol> <li>Navigate to the original DivBase repository</li> <li>Click \"New Pull Request\"</li> <li>Select your branch and create the pull request</li> <li>Check the option to \"Allow edits from maintainers\" for easier collaboration</li> </ol>"},{"location":"CONTRIBUTING/#pull-request-guidelines","title":"Pull request guidelines","text":"<p>In your PR description, please include:</p> <ul> <li>A clear description of what your changes do</li> <li>Why the changes are needed</li> <li>Any breaking changes</li> <li>Any relevant advice on how to test out the changes.</li> </ul>"},{"location":"CONTRIBUTING/#testing","title":"Testing","text":"<ul> <li>Write tests for new features and bug fixes</li> <li>Ensure all existing tests still pass</li> <li>Tests are located in the <code>tests/</code> directory</li> <li>Run tests with: <code>pytest -s</code></li> </ul>"},{"location":"CONTRIBUTING/#documentation","title":"Documentation","text":"<ul> <li>Update relevant documentation for new features</li> <li>User guides are in <code>docs/user-guides/</code></li> <li>Developer documentation is in <code>docs/development/</code></li> </ul>"},{"location":"SECURITY/","title":"Security Policy","text":""},{"location":"SECURITY/#reporting-a-vulnerability","title":"Reporting a Vulnerability","text":"<p>To report a vulnerability please use the GitHub Security Advisory \"Report a Vulnerability\" tab.</p> <p>Please do not create a GitHub issue or post information about the vulnerability publicly.</p>"},{"location":"SECURITY/#supported-versions","title":"Supported Versions","text":"<p>As DivBase is in active development, only the latest version will receive security updates. We do not provide fixes for older versions at this time.</p>"},{"location":"cli/","title":"DivBase CLI Command Reference","text":"<p>This section of the documentation covers all available CLI commands for <code>divbase-cli</code>.</p> <p>Each page in this section of the documentation is auto-generated from the divbase-cli code and is also available directly via the CLI tool by running:</p> <pre><code>divbase-cli --help # or -h\n</code></pre> <p>You can get more specific help for a command by specifying any divbase command and <code>--help</code> or <code>-h</code>. For example:</p> <pre><code>divbase-cli config -h # help on all divbase-cli config commands\ndivbase-cli config add -h # help for the divbase-cli config add command.\n</code></pre> <p><code>divbase-cli</code> is made up of a series of subcommands grouped into categories. These categories are:</p> <ul> <li><code>auth</code>: Commands for logging in and out of DivBase.</li> <li><code>config</code>: Manage your user configuration file. Your configuration file contains information about which DivBase projects you're a member of.</li> <li><code>dimensions</code>: Create and inspect dimensions (number of samples, number of variants, scaffold names) of the VCF files in a project\"</li> <li><code>files</code>: Download/upload/list files to/from the project's store on DivBase.</li> <li><code>queries</code>: Run queries on the VCF files stored in the project's data store on DivBase. Queries are run on the DivBase server.</li> <li><code>task-history</code>: Get the task history of query jobs submitted by the user to the DivBase server.</li> <li><code>versions</code>: Add, view and remove versions representing the state of all files in the entire project at the current timestamp.</li> </ul>"},{"location":"cli/_auto_generated/auth/","title":"<code>divbase-cli auth</code>","text":"<p>Login/logout of DivBase server. To register, visit https://divbase.scilifelab.se/.</p> <p>Usage:</p> <pre><code>$ divbase-cli auth [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>login</code>: Log in to the DivBase server.</li> <li><code>logout</code>: Log out of the DivBase server.</li> <li><code>whoami</code>: Return information about the currently...</li> </ul>"},{"location":"cli/_auto_generated/auth/#divbase-cli-auth-login","title":"<code>divbase-cli auth login</code>","text":"<p>Log in to the DivBase server.</p> <p>TODO - think abit more about already logged in validation and UX. One thing to consider would be use case of very close to refresh token expiry, that could be bad UX. (But that is dependent on whether we will allow renewal of refresh tokens...)</p> <p>Usage:</p> <pre><code>$ divbase-cli auth login [OPTIONS] EMAIL\n</code></pre> <p>Arguments:</p> <ul> <li><code>EMAIL</code>: [required]</li> </ul> <p>Options:</p> <ul> <li><code>--password TEXT</code>: [required]</li> <li><code>--divbase-url TEXT</code>: DivBase server URL to connect to.  [default: https://divbase-dev.scilifelab-2-dev.sys.kth.se/api]</li> <li><code>-f, --force</code>: Force login again even if already logged in</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/auth/#divbase-cli-auth-logout","title":"<code>divbase-cli auth logout</code>","text":"<p>Log out of the DivBase server.</p> <p>Usage:</p> <pre><code>$ divbase-cli auth logout [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/auth/#divbase-cli-auth-whoami","title":"<code>divbase-cli auth whoami</code>","text":"<p>Return information about the currently logged-in user.</p> <p>Usage:</p> <pre><code>$ divbase-cli auth whoami [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/","title":"<code>divbase-cli config</code>","text":"<p>Manage your user configuration file for the DivBase CLI.</p> <p>Usage:</p> <pre><code>$ divbase-cli config [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>add</code>: Add a new project to your user...</li> <li><code>rm</code>: Remove a project from your user...</li> <li><code>set-default</code>: Set your default project to use in all...</li> <li><code>show-default</code>: Print the currently set default project to...</li> <li><code>set-dload-dir</code>: Set the default download dir</li> <li><code>show</code>: Pretty print the contents of your current...</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-add","title":"<code>divbase-cli config add</code>","text":"<p>Add a new project to your user configuration file.</p> <p>Usage:</p> <pre><code>$ divbase-cli config add [OPTIONS] NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>NAME</code>: Name of the project to add to your config file.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>-u, --divbase-url TEXT</code>: DivBase API URL associated with this project.  [default: https://divbase-dev.scilifelab-2-dev.sys.kth.se/api]</li> <li><code>-d, --default</code>: Set this project as the default project in your config file.</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-rm","title":"<code>divbase-cli config rm</code>","text":"<p>Remove a project from your user configuration file.</p> <p>Usage:</p> <pre><code>$ divbase-cli config rm [OPTIONS] NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>NAME</code>: Name of the project to remove from your user configuration file.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-set-default","title":"<code>divbase-cli config set-default</code>","text":"<p>Set your default project to use in all divbase-cli commands.</p> <p>Usage:</p> <pre><code>$ divbase-cli config set-default [OPTIONS] NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>NAME</code>: Name of the project to add to the user configuration file.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-show-default","title":"<code>divbase-cli config show-default</code>","text":"<p>Print the currently set default project to the console.</p> <p>Usage:</p> <pre><code>$ divbase-cli config show-default [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-set-dload-dir","title":"<code>divbase-cli config set-dload-dir</code>","text":"<p>Set the default download dir</p> <p>Usage:</p> <pre><code>$ divbase-cli config set-dload-dir [OPTIONS] DOWNLOAD_DIR\n</code></pre> <p>Arguments:</p> <ul> <li><code>DOWNLOAD_DIR</code>: Set the default directory to download files to.          By default files are downloaded to the current working directory.         You can specify an absolute path.          You can use '.' to refer to the directory you run the command from.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/config/#divbase-cli-config-show","title":"<code>divbase-cli config show</code>","text":"<p>Pretty print the contents of your current config file.</p> <p>Usage:</p> <pre><code>$ divbase-cli config show [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/dimensions/","title":"<code>divbase-cli dimensions</code>","text":"<p>Create and inspect dimensions (number of samples, number of variants, scaffold names) of the VCF files in a project</p> <p>Usage:</p> <pre><code>$ divbase-cli dimensions [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>update</code>: Calculate and add the dimensions of a VCF...</li> <li><code>show</code>: Show the dimensions index file for a project.</li> </ul>"},{"location":"cli/_auto_generated/dimensions/#divbase-cli-dimensions-update","title":"<code>divbase-cli dimensions update</code>","text":"<p>Calculate and add the dimensions of a VCF file to the dimensions index file in the project.</p> <p>Usage:</p> <pre><code>$ divbase-cli dimensions update [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/dimensions/#divbase-cli-dimensions-show","title":"<code>divbase-cli dimensions show</code>","text":"<p>Show the dimensions index file for a project. When running --unique-scaffolds, the sorting separates between numeric and non-numeric scaffold names.</p> <p>Usage:</p> <pre><code>$ divbase-cli dimensions show [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--filename TEXT</code>: If set, will show only the entry for this VCF filename.</li> <li><code>--unique-scaffolds</code>: If set, will show all unique scaffold names found across all the VCF files in the project.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/divbase-cli/","title":"<code>divbase-cli</code>","text":"<p>This tool lets you interact with your DivBase project(s) in order to: </p> <pre><code>- Query the metadata for the VCF files stored in the project.\n\n- Upload/download files to/from the project.\n\n- Version the state of all files in the entire project at a given timestamp.\n</code></pre> <p>Usage:</p> <pre><code>$ divbase-cli [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>-v, --version</code>: Show the currently installed version of the divbase-cli package.</li> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>version</code>: Add, view and remove versions representing...</li> <li><code>files</code>: Download/upload/list files to/from the...</li> <li><code>config</code>: Manage your user configuration file for...</li> <li><code>query</code>: Run queries on the VCF files stored in the...</li> <li><code>dimensions</code>: Create and inspect dimensions (number of...</li> <li><code>auth</code>: Login/logout of DivBase server.</li> <li><code>task-history</code>: Get the task history of query jobs...</li> </ul>"},{"location":"cli/_auto_generated/files/","title":"<code>divbase-cli files</code>","text":"<p>Download/upload/list files to/from the project's store on DivBase.</p> <p>Usage:</p> <pre><code>$ divbase-cli files [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>ls</code>: list all currently available files in the...</li> <li><code>info</code>: Get detailed information about a specific...</li> <li><code>download</code>: Download files from the project's store on...</li> <li><code>stream</code>: Stream a file's content to standard output.</li> <li><code>upload</code>: Upload files to your project's store on...</li> <li><code>rm</code>: Soft delete files from the project's store...</li> <li><code>restore</code>: Restore soft deleted files from the...</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-ls","title":"<code>divbase-cli files ls</code>","text":"<p>list all currently available files in the project's DivBase store.</p> <p>You can optionally filter the listed files by providing a prefix. By default, DivBase query results files are hidden from the listing. Use the --include-results-files option to include them. To see information about the versions of each file, use the 'divbase-cli files info [FILE_NAME]' command instead</p> <p>Usage:</p> <pre><code>$ divbase-cli files ls [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--tsv</code>: If set, will print the output in .TSV format for easier programmatic parsing.</li> <li><code>-p, --prefix TEXT</code>: Optional prefix to filter the listed files by name (only list files starting with this prefix).</li> <li><code>-r, --include-results-files</code>: If set, will also show DivBase query results files which are hidden by default.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-info","title":"<code>divbase-cli files info</code>","text":"<p>Get detailed information about a specific file in the project's DivBase store.</p> <p>This includes all versions of the file and whether the file is currently marked as soft deleted.</p> <p>Usage:</p> <pre><code>$ divbase-cli files info [OPTIONS] FILE_NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>FILE_NAME</code>: Name of the file to get information about.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--tsv</code>: If set, will print the output in .TSV format for easier programmatic parsing.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-download","title":"<code>divbase-cli files download</code>","text":"<p>Download files from the project's store on DivBase.</p> <p>This can be done by either:     1. providing a list of files paths directly in the command line     2. providing a text file with a list of files to download (new file on each line).</p> <p>To download the latest version of a file, just provide its name. \"file1\" \"file2\" etc. To download a specific/older version of a file, use the format: \"file_name:version_id\" You can get a file's version id using the 'divbase-cli file info [FILE_NAME]' command. You can mix and match latest and specific versions in the same command. E.g. to download the latest version of file1 and version \"3xcdsdsdiw829x\" of file2: 'divbase-cli files download file1 file2:3xcdsdsdiw829x'</p> <p>Usage:</p> <pre><code>$ divbase-cli files download [OPTIONS] [FILES]...\n</code></pre> <p>Arguments:</p> <ul> <li><code>[FILES]...</code>: Space separated list of files/objects to download from the project's store on DivBase.</li> </ul> <p>Options:</p> <ul> <li><code>--file-list PATH</code>: Text file with list of files to upload.</li> <li><code>--download-dir TEXT</code>: Directory to download the files to.  If not provided, defaults to what you specified in your user config.  If also not specified in your user config, downloads to the current directory. You can also specify \".\" to download to the current directory.</li> <li><code>--disable-verify-checksums</code>: Turn off checksum verification which is on by default. Checksum verification means all downloaded files are verified against their MD5 checksums.It is recommended to leave checksum verification enabled unless you have a specific reason to disable it.</li> <li><code>--project-version TEXT</code>: User defined version of the project's at which to download the files. If not provided, downloads the latest version of all selected files.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-stream","title":"<code>divbase-cli files stream</code>","text":"<p>Stream a file's content to standard output.</p> <p>This allows your to pipe the output to other tools like 'less', 'head', 'zcat' and 'bcftools'.</p> <p>Examples: - View a file: divbase-cli files stream my_file.tsv | less - View a gzipped file: divbase-cli files stream my_file.vcf.gz | zcat | less - Run a bcftools command: divbase-cli files stream my_file.vcf.gz | bcftools view -h -  # The \"-\" tells bcftools to read from standard input</p> <p>Usage:</p> <pre><code>$ divbase-cli files stream [OPTIONS] FILE_NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>FILE_NAME</code>: Name of the file you want to stream.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--version-id TEXT</code>: Specify this if you want to look at an older/specific version of the file. If not provided, the latest version of the file is used. To get a file's version ids, use the 'divbase-cli file info [FILE_NAME]' command.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-upload","title":"<code>divbase-cli files upload</code>","text":"<p>Upload files to your project's store on DivBase:</p> <p>To provide files to upload you can either:     1. provide a list of files paths directly in the command line     2. provide a directory to upload     3. provide a text file with or a file list.</p> <p>Usage:</p> <pre><code>$ divbase-cli files upload [OPTIONS] [FILES]...\n</code></pre> <p>Arguments:</p> <ul> <li><code>[FILES]...</code>: Space separated list of files to upload.</li> </ul> <p>Options:</p> <ul> <li><code>--upload-dir PATH</code>: Directory to upload all files from.</li> <li><code>--file-list PATH</code>: Text file with list of files to upload.</li> <li><code>--disable-safe-mode</code>: Turn off safe mode which is on by default. Safe mode adds 2 extra bits of security by first calculating the MD5 checksum of each file that you're about to upload:(1) Checks if any of the files you're about to upload already exist (by comparing name and checksum) and if so stops the upload process.(2) Sends the file's checksum when the file is uploaded so the server can verify the upload was successful (by calculating and comparing the checksums).It is recommended to leave safe mode enabled unless you have a specific reason to disable it.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-rm","title":"<code>divbase-cli files rm</code>","text":"<p>Soft delete files from the project's store on DivBase</p> <p>To provide files to delete you can either:     1. provide a list of file names directly in the command line     2. provide a text file with a list of files to delete.</p> <p>Note that deleting a non existent file will be treated as a successful deletion.</p> <p>Usage:</p> <pre><code>$ divbase-cli files rm [OPTIONS] [FILES]...\n</code></pre> <p>Arguments:</p> <ul> <li><code>[FILES]...</code>: Space seperated list of files/objects in the project's store on DivBase to delete.</li> </ul> <p>Options:</p> <ul> <li><code>--file-list PATH</code>: Text file with list of files to delete.</li> <li><code>--dry-run</code>: If set, will not actually delete the files, just print what would be deleted.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/files/#divbase-cli-files-restore","title":"<code>divbase-cli files restore</code>","text":"<p>Restore soft deleted files from the project's store on DivBase</p> <p>To provide files to restore you can either:     1. provide a list of files directly in the command line.     2. provide a text file with a list of files to restore (new file on each line).</p> <p>NOTE: Attempts to restore a file that is not soft deleted will be considered successful and the file will remain live. This means you can repeatedly run this command on the same file and get the same response.</p> <p>Usage:</p> <pre><code>$ divbase-cli files restore [OPTIONS] [FILES]...\n</code></pre> <p>Arguments:</p> <ul> <li><code>[FILES]...</code>: Space seperated list of files/objects in the project's store on DivBase to restore.</li> </ul> <p>Options:</p> <ul> <li><code>--file-list PATH</code>: Text file with list of files to restore.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/query/","title":"<code>divbase-cli query</code>","text":"<p>Run queries on the VCF files stored in the project's data store on DivBase. Queries are run on the DivBase API</p> <p>Usage:</p> <pre><code>$ divbase-cli query [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>tsv</code>: Query the tsv sidecar metadata file for...</li> <li><code>bcftools-pipe</code>: Submit a query to run on the DivBase API.</li> </ul>"},{"location":"cli/_auto_generated/query/#divbase-cli-query-tsv","title":"<code>divbase-cli query tsv</code>","text":"<p>Query the tsv sidecar metadata file for the VCF files in the project's data store on DivBase. Returns the sample IDs and filenames that match the query.</p> <p>TODO: it perhaps be useful to set the default download_dir in the config so that we can look for files there? For now this code just uses file.parent as the download directory. TODO: handle when the name of the sample column is something other than Sample_ID</p> <p>Usage:</p> <pre><code>$ divbase-cli query tsv [OPTIONS] FILTER\n</code></pre> <p>Arguments:</p> <ul> <li><code>FILTER</code>: String consisting of keys:values in the tsv file to filter on.     The syntax is 'Key1:Value1,Value2;Key2:Value3,Value4', where the key     are the column header names in the tsv, and values are the column values.      Multiple values for a key are separated by commas, and multiple keys are      separated by semicolons. When multple keys are provided, an intersect query      will be performed. E.g. 'Area:West of Ireland,Northern Portugal;Sex:F'.       [required]</li> </ul> <p>Options:</p> <ul> <li><code>--show-sample-results / --no-show-sample-results</code>: Print sample_ID and Filename results from the query.  [default: no-show-sample-results]</li> <li><code>--metadata-tsv-name TEXT</code>: Name of the sample metadata TSV file in the project's data store on DivBase.  [default: sample_metadata.tsv]</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/query/#divbase-cli-query-bcftools-pipe","title":"<code>divbase-cli query bcftools-pipe</code>","text":"<p>Submit a query to run on the DivBase API. A single, merged VCF file will be added to the project on success.</p> <p>TODO Error handling for subprocess calls. TODO: handle case empty results are returned from tsv_query() TODO what if the user just want to run bcftools on existing files in the bucket, without a tsv file query first? TODO what if a job fails and the user wants to re-run it? do we store temp files? TODO be consistent about input argument and options. when are they optional, how is that indicated in docstring? etc. TODO consider handling the bcftools command whitelist checks also on the CLI level since the error messages are nicer looking? TODO consider moving downloading of missing files elsewhere, since this is now done before the celery task</p> <p>Usage:</p> <pre><code>$ divbase-cli query bcftools-pipe [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--tsv-filter TEXT</code>: String consisting of keys:values in the tsv file to filter on. The syntax is 'Key1:Value1,Value2;Key2:Value3,Value4', where the key are the column header names in the tsv, and values are the column values.  Multiple values for a key are separated by commas, and multiple keys are  separated by semicolons. When multple keys are provided, an intersect query  will be performed. E.g. 'Area:West of Ireland,Northern Portugal;Sex:F'.</li> <li><code>--command TEXT</code>: String consisting of the bcftools command to run on the files returned by the tsv query.  [required]</li> <li><code>--metadata-tsv-name TEXT</code>: Name of the sample metadata TSV file in the project's data store on DivBase.  [default: sample_metadata.tsv]</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/task-history/","title":"<code>divbase-cli task-history</code>","text":"<p>Get the task history of query jobs submitted by the user to the DivBase API.</p> <p>Usage:</p> <pre><code>$ divbase-cli task-history [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>user</code>: Check status of all tasks submitted by the...</li> <li><code>id</code>: Check status of a specific task submitted...</li> <li><code>project</code>: Check status of all tasks submitted for a...</li> </ul>"},{"location":"cli/_auto_generated/task-history/#divbase-cli-task-history-user","title":"<code>divbase-cli task-history user</code>","text":"<p>Check status of all tasks submitted by the user. Displays the latest 10 tasks by default, unless --limit is specified. Can be filtered by project name.</p> <p>Usage:</p> <pre><code>$ divbase-cli task-history user [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--limit INTEGER</code>: Maximum number of tasks to display in the terminal. Sorted by recency.  [default: 10]</li> <li><code>--project TEXT</code>: Optional project name to filter the user's task history by project.</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/task-history/#divbase-cli-task-history-id","title":"<code>divbase-cli task-history id</code>","text":"<p>Check status of a specific task submitted by the user by its task ID.</p> <p>Usage:</p> <pre><code>$ divbase-cli task-history id [OPTIONS] TASK_ID\n</code></pre> <p>Arguments:</p> <ul> <li><code>TASK_ID</code>: Task ID to check the status of a specific query job.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/task-history/#divbase-cli-task-history-project","title":"<code>divbase-cli task-history project</code>","text":"<p>Check status of all tasks submitted for a project. Requires a manager role in the project. Displays the latest 10 tasks by default, unless --limit is specified.</p> <p>Usage:</p> <pre><code>$ divbase-cli task-history project [OPTIONS] PROJECT\n</code></pre> <p>Arguments:</p> <ul> <li><code>PROJECT</code>: Project name to check the task history for.  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--limit INTEGER</code>: Maximum number of tasks to display in the terminal. Sorted by recency.  [default: 10]</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/version/","title":"<code>divbase-cli version</code>","text":"<p>Add, view and remove versions representing the state of all files in the entire project at the current timestamp.</p> <p>Usage:</p> <pre><code>$ divbase-cli version [OPTIONS] COMMAND [ARGS]...\n</code></pre> <p>Options:</p> <ul> <li><code>--install-completion</code>: Install completion for the current shell.</li> <li><code>--show-completion</code>: Show completion for the current shell, to copy it or customize the installation.</li> <li><code>--help</code>: Show this message and exit.</li> </ul> <p>Commands:</p> <ul> <li><code>add</code>: Add a new project version entry which...</li> <li><code>list</code>: List all entries in the project versioning...</li> <li><code>info</code>: Provide detailed information about a user...</li> <li><code>delete</code>: Delete a version entry in the project...</li> </ul>"},{"location":"cli/_auto_generated/version/#divbase-cli-version-add","title":"<code>divbase-cli version add</code>","text":"<p>Add a new project version entry which specifies the current state of all files in the project at the current timestamp.</p> <p>Usage:</p> <pre><code>$ divbase-cli version add [OPTIONS] NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>NAME</code>: Name of the version (e.g., semantic version).  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--description TEXT</code>: Optional description of the version.</li> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/version/#divbase-cli-version-list","title":"<code>divbase-cli version list</code>","text":"<p>List all entries in the project versioning file.</p> <p>Displays version name, creation timestamp, and description for each project version. If you specify --include-deleted, soft-deleted versions will also be shown. Soft-deleted versions can be restored by a DivBase admin within 30 days of deletion.</p> <p>Usage:</p> <pre><code>$ divbase-cli version list [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--include-deleted / --no-include-deleted</code>: Include soft-deleted versions in the listing.  [default: no-include-deleted]</li> <li><code>--tsv</code>: If set, will print the output in .TSV format for easier programmatic parsing.</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/version/#divbase-cli-version-info","title":"<code>divbase-cli version info</code>","text":"<p>Provide detailed information about a user specified project version, including all files present and their unique hashes.</p> <p>Usage:</p> <pre><code>$ divbase-cli version info [OPTIONS] VERSION\n</code></pre> <p>Arguments:</p> <ul> <li><code>VERSION</code>: Specific version to retrieve information for  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"cli/_auto_generated/version/#divbase-cli-version-delete","title":"<code>divbase-cli version delete</code>","text":"<p>Delete a version entry in the project versioning table. This does not delete the files themselves. Deleted version entries older than 30 days will be permanently deleted. You can ask a DivBase admin to restore a deleted version within that time period.</p> <p>Usage:</p> <pre><code>$ divbase-cli version delete [OPTIONS] NAME\n</code></pre> <p>Arguments:</p> <ul> <li><code>NAME</code>: Name of the version (e.g., semantic version).  [required]</li> </ul> <p>Options:</p> <ul> <li><code>--project TEXT</code>: Name of the DivBase project, if not provided uses the default in your DivBase config file</li> <li><code>--help</code>: Show this message and exit.</li> </ul>"},{"location":"user-guides/","title":"Available user guides","text":"<ul> <li>Quick Start Guide - Get up and running in minutes</li> </ul> <p>TODO - finish list.</p> <p>TODO section on getting help.</p>","boost":2},{"location":"user-guides/account-management/","title":"Account management","text":"<p>Simple guide on how to use the website and how to request a project etc...</p> <p>TODO</p>","boost":2},{"location":"user-guides/how-to-create-efficient-divbase-queries/","title":"How to create efficient DivBase queries","text":"<p>Split large VCF files into smaller files. For instance by chromosome. If the assembly does not have chromosome level contiguity, we suggest to store a range of scaffolds per file.</p> <p>divbase bcftools \"pipes\"</p> <p>If subsets based on variant range are included, run then first before any sample subsets. subsetting on samples requres inspecting and potentially updating every row in the VCF (N+1 problem); subsetting on samples will be faster on smaller datasets and therefore better to run after all row-based subsets have been done.</p>","boost":2},{"location":"user-guides/installation/","title":"Installing divbase-cli","text":"","boost":2},{"location":"user-guides/installation/#recommended-options-pipx-or-uv-tool","title":"Recommended options: pipx or uv tool","text":"","boost":2},{"location":"user-guides/installation/#1-with-pipx","title":"1. With pipx","text":"<pre><code>pipx install divbase-cli\n</code></pre> <p>If you do not have pipx installed, you can install it by following the official instructions from pipx.</p> <p>why pipx and not pip?</p> <p>Pipx is recommended for command-line tools that need to be run from the terminal. With pipx, the tool is installed in an isolated environment and made available globally, which avoids dependency conflicts with other Python packages on your system.</p> <p>To upgrade your prior install of divbase-cli, use:</p> <pre><code>pipx upgrade divbase-cli\n</code></pre> <p>Which version is installed?</p> <p>To check which version of divbase-cli is currently installed, run:</p> <pre><code>divbase-cli --version\n</code></pre>","boost":2},{"location":"user-guides/installation/#2-with-uv-tool","title":"2. With uv tool","text":"<p>If you use the package manager uv, you can install <code>divbase-cli</code> using UV's equivalent to pipx (<code>uv tool</code>):</p> <pre><code>uv tool install divbase-cli\n</code></pre> <p>And to upgrade an existing installation:</p> <pre><code>uv tool upgrade divbase-cli\n</code></pre>","boost":2},{"location":"user-guides/installation/#alternative-installation-methods","title":"Alternative Installation Methods","text":"","boost":2},{"location":"user-guides/installation/#pip-with-a-virtual-environment","title":"pip with a Virtual Environment","text":"<p>If you would prefer to manually create a virtual environment with for example <code>conda</code>/<code>mamba</code>/<code>venv</code> then you can install <code>divbase-cli</code> with pip after activating your virtual environment.</p> <p>For example, with conda:</p> <pre><code>conda create -n divbase python=3.13\nconda activate divbase\npip install divbase-cli\n</code></pre> <p>And to upgrade later:</p> <pre><code>conda activate divbase\npip install --upgrade divbase-cli\n</code></pre>","boost":2},{"location":"user-guides/project-versioning/","title":"Managing Project Versions","text":"<p>DivBase allows you to create named versions of your project's state at specific points in time. This is useful for tracking changes, ensuring reproducibility, and marking important milestones (e.g., when running analysis for a publication).</p> <p>This means you can save the current state of your project as a named version, and later retrieve files as they were at that specific version (so you don't have to worry about having later updated files).</p> <p>What actually is a version entry?</p> <p>A version entry is stored on our server and alongside some metadata (like name, description, created at) it contains references to every file in your project at that time point like this:</p> <p><pre><code>files = {\n    \"file1.vcf.gz\": \"unique_file_hash_12345\",\n    \"file2.vcf.gz\": \"unique_file_hash_67890\",\n    ...\n}\n</code></pre> The unique files hashes mean uploading a new version of the file with the same name doesn't matter. DivBase will know that entry refers to the older version of the file.</p>","boost":2},{"location":"user-guides/project-versioning/#add-a-new-version","title":"Add a new version","text":"<p>To save the current state of your project run:</p> <pre><code>divbase-cli version add NAME --description \"[OPTIONAL DESCRIPTION]\"\n</code></pre> <ul> <li>Replace <code>NAME</code> with a unique name for the version (e.g., v1.0.0).</li> <li>You can optionally add a description using the --description flag.</li> </ul> <p>Note: Versions are project wide, so you share them with all other members of the same project.</p>","boost":2},{"location":"user-guides/project-versioning/#listing-versions","title":"Listing versions","text":"<p>To see all existing versions for your project, run:</p> <pre><code>divbase-cli version list # --project [PROJECT_NAME] to specify a non-default project\n</code></pre> <p>This will display a list of all saved versions, including their names, descriptions, and creation dates.</p>","boost":2},{"location":"user-guides/project-versioning/#specific-version-details","title":"Specific version details","text":"<p>To get detailed information about a specific version, use:</p> <pre><code>divbase-cli version info NAME\n</code></pre> <p>This view will also include all the files associated with that version.</p>","boost":2},{"location":"user-guides/project-versioning/#deleting-versions","title":"Deleting versions","text":"<p>To delete a specific version from your project, run:</p> <pre><code>divbase-cli version delete NAME\n</code></pre> <p>This will delete the version entry from the project. Deleted versions older than 30 days will be permanently deleted. You can ask a DivBase admin to restore a deleted version within that time period.</p> <p>NOTE: The files associated with the version are never deleted by this operation.</p>","boost":2},{"location":"user-guides/project-versioning/#downloading-files-from-a-specific-version","title":"Downloading files from a specific version","text":"<p>To download files from your project as they were at a specific version, use the --project-version option:</p> <pre><code>divbase-cli files download file1.vcf.gz file2.vcf.gz --project-version=NAME\n</code></pre> <p>Replacing <code>NAME</code> with the name of the version you want to download files from.</p>","boost":2},{"location":"user-guides/query-syntax/","title":"DivBase Query Syntax for VCF data","text":"<p>TODO</p>","boost":2},{"location":"user-guides/quick-start/","title":"Quick Start Guide","text":"<p>This guide will walk you through everything you need to start managing and querying your VCF files.</p>","boost":2},{"location":"user-guides/quick-start/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12 or higher</li> <li>VCF files and sample metadata in TSV format</li> </ul>","boost":2},{"location":"user-guides/quick-start/#step-1-create-an-account","title":"Step 1: Create an account","text":"<p>Create an account on DivBase and make sure to verify your email address.</p>","boost":2},{"location":"user-guides/quick-start/#step-2-join-or-create-a-project","title":"Step 2: Join or create a project","text":"","boost":2},{"location":"user-guides/quick-start/#option-1-join-an-existing-project","title":"Option 1: Join an existing project","text":"<p>If you have an account you can be added to an existing project by a project member with the role manager. Ask them to add you and give them the email address you used to sign up with.</p> <p>Managers can see this guide here on how to add members to a project here (TODO).</p>","boost":2},{"location":"user-guides/quick-start/#option-2-create-a-new-project","title":"Option 2: Create a new project","text":"<p>To create a new project, you'll need to contact us at TODO@scilifelab.se with the following information:</p> <ul> <li>Desired project name</li> <li>A brief description of the project</li> <li>Your registered email address</li> </ul>","boost":2},{"location":"user-guides/quick-start/#step-3-install-divbase-cli","title":"Step 3: Install divbase-cli","text":"<p>Install <code>divbase-cli</code> using pipx (recommended):</p> <pre><code>pipx install divbase-cli\n</code></pre> <p>If you do not have <code>pipx</code> installed, you can install it by following the official instructions from pipx. Refer to the Installation Guide for more detailed instructions or other ways to install divbase-cli.</p>","boost":2},{"location":"user-guides/quick-start/#step-4-add-your-projects-to-your-divbase-cli-config","title":"Step 4: Add your project(s) to your divbase-cli config","text":"<p>Add your project(s) to the configuration file:</p> <pre><code>divbase-cli config add PROJECT_NAME --default\n</code></pre> <p>By setting this as the default project, you won't need to specify the project name in future commands. To select a different project in any future command, you can add the <code>--project</code> flag to any command. Note that the rest of the example commands in this quick start guide will omit the <code>--project</code> flag for brevity.</p> <p>Note</p> <p>On the divbase website you can see your project's name(s) under the \"Projects\" tab after logging in.</p>","boost":2},{"location":"user-guides/quick-start/#step-5-log-in","title":"Step 5: Log in","text":"<p>Log in to DivBase:</p> <pre><code>divbase-cli auth login EMAIL_ADDRESS\n</code></pre>","boost":2},{"location":"user-guides/quick-start/#step-6-upload-files","title":"Step 6: Upload files","text":"<p>Upload your VCF files to your project:</p> <pre><code># Upload a single VCF file\ndivbase-cli files upload path/to/your/file.vcf\n\n# Upload multiple files\ndivbase-cli files upload path/to/file1.vcf path/to/file2.vcf\n\n# Upload all VCF files in a directory\ndivbase-cli files upload --upload-dir /path/to/directory/\n</code></pre> <p>Check your uploaded files:</p> <pre><code>divbase-cli files ls\n</code></pre>","boost":2},{"location":"user-guides/quick-start/#step-7-upload-sample-metadata","title":"Step 7: Upload sample metadata","text":"<p>TODO It might make more sense to have run the dimensions update job before this if we are to use a pre-populated template file</p> <p>Sample metadata must be uploaded as follows:</p> <ul> <li>In TSV format and be named \"sample_metadata.tsv\"</li> <li>Must contain a column named \"sample_id\" which matches the sample IDs in your VCF files</li> <li>The names and values of all other columns are optional.</li> </ul> <p>TODO update this after <code>sidecar-metadata.md</code> docs are done, there are changes planned for some details.</p> <pre><code>divbase-cli files upload path/to/your/sample_metadata.tsv\n</code></pre>","boost":2},{"location":"user-guides/quick-start/#step-8-dimensions-update","title":"Step 8: Dimensions update","text":"<p>For DivBase to be able to efficiently handle the VCF files in the the project, some key information about each VCF files is fetched from the files. In DivBase, this is refered to as \"VCF dimensions\". These include for instance which samples and scaffolds that a VCF file contains.</p> <p>Update the project dimensions after uploading your files.</p> <pre><code>divbase-cli dimensions update\n</code></pre> <p>This submits a task to the DivBase task management system. The task will wait in a queue until the system is ready to work on it. Depending on the size of the VCF files, this make take a couple of minutes.</p> <p>Notes</p> <ol> <li> <p>Please note that it is not possible to run VCF queries in DivBase until the dimensions update task has finished. The reason for this is that the VCF queries use the dimensions data ensure that the queries are feasible and to know which VCF files from the project to process.</p> </li> <li> <p>Please also note that the <code>divbase-cli dimensions update</code> command needs to be done every time a new VCF or a new version of a VCF file is uploaded.</p> </li> </ol>","boost":2},{"location":"user-guides/quick-start/#step-9-confirm-dimensions-update-job-completion","title":"Step 9: Confirm dimensions update job completion","text":"<p>Check the task history to confirm the dimensions update job has completed:</p> <pre><code>divbase-cli task-history user\n</code></pre> <p>Once complete, you can run any queries on the uploaded data.</p> <p>It is possible to inspect the cached VCF dimensions data for the project at any time with the command:</p> <pre><code>divbase-cli dimensions show\n</code></pre>","boost":2},{"location":"user-guides/quick-start/#step-10-run-your-queries","title":"Step 10: Run your queries","text":"<p>There are three types of queries in DivBase:</p> <ul> <li>Sample metadata query</li> <li>VCF data query</li> <li>Combined sample metadata and VCF data query</li> </ul> <p>Note</p> <p>Queries are one of the more complex aspects of DivBase and therefore the user is encouraged to read the section on Running Queries after reading this quick start.</p>","boost":2},{"location":"user-guides/quick-start/#running-sample-metadata-queries","title":"Running sample metadata queries","text":"<p>As an example, let's assume that user-defined sidecar sample metadata TSV file contains a custom column name <code>Area</code> and that <code>Northern Portugal</code> is one of the values in the column. To filter on all samples on that column and value:</p> <pre><code>divbase-cli query tsv \"Area:Northern Portugal\"\n</code></pre> <p>Note</p> <p>Please see Sidecar Metadata TSV files: creating and querying sample metadata files for more details on the syntax for writing sample metadata queries.</p>","boost":2},{"location":"user-guides/quick-start/#running-vcf-data-queries","title":"Running VCF data queries","text":"<p>DivBase uses <code>bcftools</code> to subset VCF data and therefore the query syntax is based on <code>bcftools view</code> syntax (as described in the bcftools manual).</p> <p>For instance, to subset all VCF files in the project on a chromosomal region in a scaffold named <code>21</code>:</p> <pre><code>divbase-cli query bcftools-pipe --command \"view -r 21:15000000-25000000\"\n</code></pre> <p>The VCF queries can be combined with sidecar sample metadata queries with <code>--tsv-filter</code> and the fixed expression <code>view -s SAMPLES</code> (where <code>SAMPLES</code> tells DivBase to use the results from the sidecar filtering as input for <code>bcftools view -s</code>). In this way, only the VCF files that fulfil the sample metadata query will be used in the <code>bcftools</code> subset commands. An example:</p> <pre><code>divbase-cli query bcftools-pipe --tsv-filter \"Area:Northern Portugal\" --command \"view -s SAMPLES; view -r 21:15000000-25000000\"\n</code></pre> <p>Note</p> <p>DivBase only allows <code>bcftools view</code> in its query syntax and no other <code>bcftools</code> commands. The <code>merge</code>, <code>concat</code>, and <code>annotate</code> commands are used when processing a query, but should not be defined by the user.</p>","boost":2},{"location":"user-guides/quick-start/#step-11-download-any-results-files","title":"Step 11: Download any results files","text":"<p>You can check the status of all of your submitted jobs using:</p> <pre><code>divbase-cli task-history user\n</code></pre> <p>Once a <code>bcftools-pipe</code> job is complete, you can download the resulting merged vcf file:</p> <pre><code>divbase-cli files download merged_[JOB_ID].vcf.gz # --download-dir path/to/save/results/\n</code></pre> <p>Replacing [JOB_ID] with the actual job ID from the task history.</p>","boost":2},{"location":"user-guides/quick-start/#next-steps","title":"Next steps","text":"<p>TODO - a selection of links to more detailed user guides</p>","boost":2},{"location":"user-guides/quick-start/#getting-help","title":"Getting help","text":"<p>If you run into issues:</p> <ol> <li>Check the output: Read the error message</li> <li>Consult and search the docs: Full documentation</li> <li>Get help on the command you're running: <code>divbase-cli COMMAND --help</code></li> </ol> <p>To get assistance from us you can either send us an email (TODO - link) or report an issue on our GitHub Issues.</p>","boost":2},{"location":"user-guides/quick-start/#common-issues","title":"Common Issues","text":"Authentication Issues <ul> <li>Make sure you've verified your email address</li> <li>Check if you can login to your account on the DivBase Website. If it fails on the website it will also fail on the CLI.</li> <li>Try logging out and back in: <code>divbase-cli auth logout</code> then <code>divbase-cli auth login</code></li> </ul>","boost":2},{"location":"user-guides/running-queries/","title":"Running Queries: Overview","text":"<p>DivBase allows users to submit queries to checkout sample metadata and VCF data from the DivBase project data store. There types of queries in DivBase are:</p> <ul> <li>Sample metadata query</li> <li>VCF data query</li> <li>Combined sample metadata and VCF data query</li> </ul> <p>The sample metadata is a user defined, sidecar TSV (tab separated variables) file where users can add any custom metadata as columns. The VCF queries use <code>bcftools</code> to subset data from the files in the data store based on user defined filters. The VCF queries can be combined with a sample metadata query to allow users to filter both on data in the sidecar metadata and VCF files in a single query.</p> <p>TODO</p> <ul> <li>[TO BE IMPLEMENTED] think about the <code>divbase-cli query</code> commands. it would make sense to use <code>sample-metadata</code> (perhaps with <code>tsv</code> as a short form) and <code>vcf</code></li> </ul> <p>The system will use the latest version the the files for all queries.</p> <p>TODO COPIED OVER FROM QUICKSTART REIMPLEMENT</p> <p>DivBase only allows <code>bcftools view</code> in its query syntax and no other <code>bcftools</code> commands. The <code>merge</code>, <code>concat</code>, and <code>annotate</code> commands are used when processing a query, but should not be defined by the user.</p>","boost":2},{"location":"user-guides/running-queries/#side-car-sample-metadata-queries","title":"Side car sample metadata queries","text":"<p>For more details, see Sidecar Metadata TSV files: creating and querying sample metadata files.</p> <p>how to write the sample metadata TSV (+template)</p> <p>how to use dimensions show to get all samples in the project</p> <p>how to write query</p>","boost":2},{"location":"user-guides/running-queries/#before-any-vcf-queries-run-the-vcf-dimensions-command","title":"Before any VCF queries: run the VCF dimensions command","text":"<p>For more details see VCF Dimensions caching</p> <p>For performance reasons and to ensure query feasibility, key metadata from the VCF files must first be cached in DivBase. For each VCF in the DivBase project, the system extracts file name, number and name of all samples, number and name of all scaffolds, number of variants,</p> <p>DivBase will use this whenever a user submits a query to the project. For instance, the user might make a sample metadata filtering that results in only certain samples. The system knows which file names each requested sample are located in, and will ensure that only those files will be transferred to the worker.</p> <p>example dimensions show</p>","boost":2},{"location":"user-guides/running-queries/#vcf-queries","title":"VCF queries","text":"<p>See also DivBase Query Syntax for VCF data, How to create efficient DivBase queries, and Tutorial: Running a query on a public dataset.</p> <p>can be run with or without sample metadata filtering</p> <p>for sample metadata linked VCF queries, it can be good to do a dry run first [TO BE IMPLEMENTED, at the moment it needs to be run seperatelly]</p> <p>how to write a query</p> <p>how to optimize a query (see separate markdown)</p>","boost":2},{"location":"user-guides/setup_divbase_cli/","title":"Setup DivBase CLI configuration guide","text":"<p>This section covers how to configure divbase-cli to know which projects you're a member of and log you in and out of the DivBase server.</p>","boost":2},{"location":"user-guides/setup_divbase_cli/#prerequisites","title":"Prerequisites","text":"<ul> <li>Installed divbase-cli, see the quickstart guide or installation section of the documentation.</li> <li>Have created a DivBase account via the website and have access to at least one DivBase project. See the account management guide for more information on how to get access to a project.</li> </ul>","boost":2},{"location":"user-guides/setup_divbase_cli/#1-create-a-user-config-file-and-add-your-projects","title":"1. Create a user config file and add your project(s)","text":"<p>After installing <code>divbase-cli</code>, you can add a new project to your user config file by running:</p> <pre><code>divbase-cli config add [PROJECT_NAME] # append `--default` to make it the default project\n</code></pre> <p>Info</p> <p>On the DivBase website in the project's page, you'll see the command you can run to add that specific project to your user config file.</p> <p>If you want to change your default project later, you can run the same command with the <code>--default</code> flag again or:</p> <pre><code>divbase-cli config set-default [PROJECT_NAME] # This must be a project that is already in your config file\n</code></pre> <p>To view the contents of your user config file, you can run:</p> <pre><code>divbase-cli config show\n</code></pre>","boost":2},{"location":"user-guides/setup_divbase_cli/#2-logging-into-divbase-server","title":"2. Logging into DivBase server","text":"<p>With the config setup you can now log into DivBase server via <code>divbase-cli</code>. This will keep you logged in for 1 week.</p> <pre><code>divbase-cli auth login [YOUR_EMAIL] # you'll be prompted for your password\n# divbase-cli auth logout  # run to log out\n</code></pre> <p>You will now be able to run commands against your DivBase projects. Here are some examples:</p> <pre><code>divbase-cli files ls # runs against the default project\ndivbase-cli files download file1.vcf.gz file2.vcf.gz --project my-non-default-project\ndivbase-cli files upload file1.vcf.gz file2.vcf.gz --project my-non-default-project\n</code></pre> <p>Notice above how we sometimes specified the project name with <code>--project</code> flag since we wanted to use a non-default project. You can do this for all DivBase CLI commands that relate to working with a specific project.</p> <p>If you're ever unsure which project is the default project you can run:</p> <pre><code>divbase-cli config show\n# or\ndivbase-cli config show-default\n</code></pre>","boost":2},{"location":"user-guides/setup_divbase_cli/#how-divbase-cli-stores-state","title":"How divbase-cli stores state","text":"<p>(You don't need to read this section unless you're curious!)</p> <p><code>divbase-cli</code> relies on 2 files stored locally to preserve state between commands/sessions:</p> <ol> <li>A config file stored in your home directory at <code>~/.config/divbase/config.yaml</code>.     This config contains information about your DivBase projects and which divbase server (if any) you're logged into.</li> <li>A secrets file stored in your home directory at <code>~/.config/divbase/.secrets</code>.     This file contains your personal tokens for the DivBase server you're logged into that grant access for up to 1 week. You should never share this file with anyone.</li> </ol> <p>You do not need to manually modify these files. The commands above will create and update them for you as needed.</p> <p>Access from multiple workstations</p> <p>If you plan to access divbase from say both your laptop and HPC, you will need to install <code>divbase-cli</code> in both places and set up the config and login in both places separately.</p>","boost":2},{"location":"user-guides/sidecar-metadata/","title":"Sidecar Metadata TSV files: creating and querying sample metadata files","text":"<p>TODO</p> <ul> <li>rationale: what is this and how can it be used</li> </ul>","boost":2},{"location":"user-guides/sidecar-metadata/#creating-a-sidecar-tsv-for-a-divbase-project","title":"Creating a sidecar TSV for a DivBase project","text":"<p>Note! there can be multiple TSVs in the same project and it is possible to call them for the queries with the <code>--metadata-tsv-name</code> flag.</p> <p>TODOs:</p> <ul> <li>[TO BE IMPLEMENTED] consider changing the mandatory column name from <code>Sample_ID</code> to <code>Sample</code></li> <li>[TO BE IMPLEMENTED] CLI command to generate template (empty template and template with the samples from the DivBase project pre-filled). Pre-filling the template will require that dimensions update has been run</li> <li>[TO BE IMPLEMENTED] what happens if a TSV does not contain all the samples in the DivBase project? There should probably be a warning, but not an error?</li> <li> <p>[TO BE IMPLEMENTED] what happens if a sample name is misspelled in the TSV? a warning? can this be checked against the dimensions show?</p> </li> <li> <p>[TO BE IMPLEMENTED] what happens if a sample is duplicated in the file. what happens if the sample name is duplicated but not the values (diverging duplicate)?</p> </li> </ul> <p>1 mandatory column: sample name.</p> <p>any other columns are optional and user defined</p> <p>it is possible to have more than one sidecar sample metadata file in each DivBase project.</p> <p>example</p> <pre><code>TODO add example here\n</code></pre>","boost":2},{"location":"user-guides/sidecar-metadata/#query-syntax-for-sidecar-metadata","title":"Query Syntax for sidecar metadata","text":"<p>from <code>divbase-cli query tsv -h</code> docstring: String consisting of keys:values in the tsv file to filter on. The syntax is 'Key1:Value1,Value2;Key2:Value3,Value4', where the key are the column header names in the tsv, and values are the column values. Multiple values for a key are separated by commas, and multiple keys are separated by semicolons. When multple keys are provided, an intersect query will be performed. E.g. 'Area:West of Ireland,Northern Portugal;Sex:F'.</p> <ul> <li>[TO BE IMPLEMENTED] filtering based on ranges (ints and maybe floats) and not just on strings, e.g. in range 31 - 50. etc...</li> <li>[TO BE IMPLEMENTED] add more Set Operations: union, intersection, difference, symmetric difference. Be clear on the default behaviour</li> </ul>","boost":2},{"location":"user-guides/sidecar-metadata/#trying-out-a-query","title":"Trying out a query","text":"<pre><code>divbase-cli query tsv \"Area:Northern Portugal\"\n</code></pre> <ul> <li> <p>[TO BE IMPLEMENTED] what to do if a query references a column that does not exist. E.g. <code>divbase-cli query tsv \"Area:Northern Portugal\"</code> when Area does not exist? This should probably give a warning and not just return nothing</p> </li> <li> <p>[TO BE IMPLEMENTED] what to do if a query references a column value. E.g. <code>divbase-cli query tsv \"Area:Northern Portugal\"</code> when Northern Portugal does not exist in the column? This should probably also give a warning and not just return nothing, but nothing is a result here and not a syntax problem...</p> </li> </ul>","boost":2},{"location":"user-guides/troubleshooting/","title":"Troubleshooting","text":"<p>TODO</p>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/","title":"Tutorial: Running a DivBase query on a public dataset","text":"<p>This tutorial assumes that you have an account on DivBase and have a membership in a DivBase project with at least an EDIT role (i.e. can upload files and run queries).</p> <p>We will use a mouse (Mus musculus) data set availalbe on the European Nucleotide Archive: https://www.ebi.ac.uk/ena/browser/view/ERZ022025. It a 5.5 Gb VCF.gz file that contains 18 samples and 66,007,044 variants.</p>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/#1-obtain-the-data-and-upload-it-to-your-divbase-project","title":"1. Obtain the data and upload it to your DivBase project","text":"<p>First we need download the files from EVA to our local computer. We can do that from the ENA homepage with a web browser, or from the terminal with a tool like <code>curl</code> or <code>wget</code>:</p> <pre><code>curl -o mgp.v3.snps.rsIDdbSNPv137.vcf.gz ftp://ftp.sra.ebi.ac.uk/vol1/analysis/ERZ022/ERZ022025/mgp.v3.snps.rsIDdbSNPv137.vcf.gz\n</code></pre> <p>On the terminal, log in to DivBase:</p> <pre><code>divbase-cli auth login &lt;USER_EMAIL&gt;\n</code></pre> <p>We then need to upload the file to the DivBase project. If the project you want to upload to is your default project, you can skip <code>--project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;</code>, but otherwise you will need to specify that.</p> <pre><code>divbase-cli files upload mgp.v3.snps.rsIDdbSNPv137.vcf.gz --project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;\n</code></pre> <p>For the sake of demonstration, we can create a sidecar metadata file for the 18 samples in this dataset so that we can use that for the query. In fact, a file prepared for this demo can be downloaded from the DivBase repo with:</p> <pre><code>curl -o tutorial_mock_metadata_mgpv3snps.tsv https://raw.githubusercontent.com/ScilifelabDataCentre/divbase/refs/heads/docs-on-queries/tests/fixtures/tutorial_mock_metadata_mgpv3snps.tsv\n</code></pre> <p>TODO update the TSV url when it has been merged to main.</p> <p>And then upload it to the DivBase project with:</p> <pre><code>divbase-cli files upload tutorial_mock_metadata_mgpv3snps.tsv --project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;\n</code></pre> <p>With this, we are set in terms of the files we need in the DivBase project to be able to run the query.</p>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/#a-comment-on-the-mock-sidecar-metadata-tsv","title":"A comment on the mock sidecar metadata TSV","text":"<p>If we look at the first few lines of this TSV, we see that the first column has the SAMPLE IDs from the VCF. There is a column for population grouping, and a column for the geographical area the sample comes from. All of this is made up for the tutorial, just to illustrate what a sidecar metadata file can look like. We will use the Area column later on to subset on samples.</p> <pre><code>head tests/fixtures/tutorial_mock_metadata_mgpv3snps.tsv\n\n#Sample_ID      Population      Area\n129P2   1       North\n129S1   2       East\n129S5   3       South\nAJ      4       West\n</code></pre> <p>For comparison, we can inspect all the samples in the VCF with:</p> <pre><code># On MacOS, use gzcat instead of zcat\nzcat mgp.v3.snps.rsIDdbSNPv137.vcf.gz | grep \"#CHROM\"\n\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  129P2   129S1   129S5   AJ      AKRJ    BALBcJ  C3HHeJ  C57BL6NJ        CASTEiJ CBAJ    DBA2J   FVBNJ   LPJ     NODShiLtJ       NZOHlLtJ   PWKPhJ  SPRETEiJ        WSBEiJ\n</code></pre>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/#2-submit-a-job-to-cache-the-vcf-dimensions-in-the-divbase-backend","title":"2. Submit a job to cache the VCF dimensions in the DivBase backend","text":"<p>DivBase needs this to make calculations. It can be seen as a pre-processing step that needs to be run every time a new version of a VCF is uploaded to DivBase.</p> <pre><code>divbase-cli dimensions update --project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;\n</code></pre> <p>The task should now have been submitted. The terminal prints a DivBase Task ID with a message like this:</p> <pre><code># Example with Task ID 102\nJob submitted successfully with task id: 102\n</code></pre> <p>Make note of the Task ID integer for for now; we will use it later in the tutorial for a variable named <code>&lt;THE_JOB_ID_OF_THE_QUERY&gt;</code>.</p> <p>We need to wait until this has finished before we can send the actual DivBase query.</p> <pre><code>divbase-cli task-history user\n</code></pre>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/#3-submit-a-query-job","title":"3. Submit a query job","text":"<pre><code>divbase-cli query bcftools-pipe --tsv-filter 'Area:North,East' --command 'view -s SAMPLES; view -r 1:15000000-25000000' --metadata-tsv-name tutorial_mock_metadata_mgpv3snps.tsv --project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;\n</code></pre> <p>note that we are specifically using the <code>tutorial_mock_metadata_mgpv3snps.tsv</code> sample metadata. If this is not specified, the query will default to <code>sample_metadata.tsv</code>.</p> <p>Depending on queue length, this job will take some time to run. Check that it has started, and then leave it running for half an hour.</p> <pre><code>divbase-cli task-history user\n</code></pre>","boost":2},{"location":"user-guides/tutorial-query-on-public-data/#4-download-the-results-file","title":"4. Download the results file","text":"<pre><code>divbase-cli file download result_of_job_&lt;THE_JOB_ID_OF_THE_QUERY&gt;.vcf.gz--project &lt;YOUR_DIVBASE_PROJECT_NAME&gt;\n</code></pre> <p>We can now run some quick sanity-checks on the result file.</p> <pre><code># On MacOS, use gzcat instead of zcat\nzcat result_of_job_&lt;THE_JOB_ID_OF_THE_QUERY&gt;.vcf.gz | grep -v \"^#\" |wc -l\n\n# Expected terminal output:\n297415\n</code></pre> <p>If you want, you can compare this to the original file:</p> <pre><code># Note! This will take a little time since this file has many rows\nzzcat mgp.v3.snps.rsIDdbSNPv137.vcf.gz | grep -v \"^#\" |wc -l\n\n# Expected terminal output:\n66007044\n</code></pre> <p>As for the samples, the expected result is the following:</p> <pre><code>zcat mgp.v3.snps.rsIDdbSNPv137.vcf.gz | grep \"#CHROM\"\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  129P2   129S1   129S5   AJ      AKRJ    BALBcJ  C3HHeJ  C57BL6NJ        CASTEiJ CBAJ    DBA2J   FVBNJ   LPJ     NODShiLtJ       NZOHlLtJ   PWKPhJ  SPRETEiJ        WSBEiJ\n\nzcat result_of_job_&lt;THE_JOB_ID_OF_THE_QUERY&gt;.vcf.gz | grep \"#CHROM\"\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  129P2   129S1   AKRJ    BALBcJ  CASTEiJ CBAJ    LPJ     NODShiLtJ       SPRETEiJ        WSBEiJ\n</code></pre>","boost":2},{"location":"user-guides/vcf-dimensions/","title":"VCF Dimensions caching","text":"<p>TODO</p> <p>This a prerequisite step before running any queries</p> <p>The dimensions update job will:</p> <ul> <li>For each VCF files in the project data store:</li> <li>store filename and data store file version ID</li> <li>store timestamp of last update [TODO IS THIS LAST TIME DIMENSIONS WAS RUN OR LAST TIME FILE WAS UPDATED?]</li> <li>Fetche and store all sample names from the VCF file</li> <li>Fetch and store all  chromosome/scaffold/contig names</li> <li>count the number of samples and variants in the VCF file</li> <li>not consider results files produced by DivBase</li> <li>by filename (<code>result_of_job_</code> prefix)</li> <li>as an additional check, looks for bcftools annotate stamp in header (all DivBase results files are branded like this)</li> </ul> <p>Run <code>divbase-cli dimensions update</code> whenever:</p> <ul> <li>A new VCF file is uploaded to the project</li> <li>A new version of an existing VCF file is uploaded to the project</li> </ul>","boost":2},{"location":"user-guides/vcf-files/","title":"VCF Files","text":"<p>TODO</p> <ul> <li>what format? VCF.GZ</li> <li> <p>can it be compressed with gzip, or do we recommend bcftools</p> </li> <li> <p>does it need to have an index file</p> </li> <li> <p>no, divbase creates these during the queries. DivBase uses CSI indexed instead of TBI indexes since the former can accomate larger genome assemblies (TODO: find the reference for the memory size the two indexes can handle)</p> </li> <li> <p>file size limitation?</p> </li> <li>each DivBsae project has file quota. ask the staff if you have questions about this</li> <li>comment that splitting large VCFs by chromosome will likely be more efficient for DivBase.<ul> <li>we can provide suggestions on how to split</li> <li>example script from mouse VCF benchmarking to split a larger VCF into 20 smaller by chromosome: https://github.com/ScilifelabDataCentre/divbase/blob/per-task-cpu-ram-metrics/scripts/benchmarking/split_mouse_vcf_per_scaffold.sh</li> </ul> </li> </ul>","boost":2},{"location":"user-guides/vcf-files/#managing-vcf-files-in-divbase","title":"Managing VCF files in DivBase","text":"<p>DivBase is built to help users manage their VCF data. For this to work well, users need to consider the following when uploading data</p> <p>DivBase is built on with good data management priciples in mind (TODO: add an external ref for this? RDMkit, Turingway Etc.)</p> <ul> <li> <p>Data should not be duplicated in a DivBase project.</p> </li> <li> <p>The same sample or the same variant can be present in multiple files, but the same sample and variant cannot!</p> <p>Toy examples. For the sake of demonstration, let's assume that we have two VCF files that only contain four samples and one variant.</p> <p>The following example is compatible with DivBase: the same samples are present in both files but the files describe different variants. Furhtermore, DivBase is built to handle that big VCF files are be split into smaller files by chromosome or by scafold/contig; in fact, it is often more performant to store the data in that way.</p> <pre><code># &gt;zcat file_1.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE001   SAMPLE002   SAMPLE003   SAMPLE004\n1      12345        1_12345     T       C       .       .       PR;AN=10;AC=0   GT      0/0     1/0     0/0     0/\n\n# &gt;zcat file_2.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE001   SAMPLE002   SAMPLE003   SAMPLE004\n1      56789        1_56789     T       C       .       .       PR;AN=10;AC=0   GT      0/0     0/0     0/0     0/0\n</code></pre> <p>The following is also compatible with DivBase: the same variant is present in both files but the samples it describes are different between the two files.</p> <pre><code># &gt;zcat file_1.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE001   SAMPLE002   SAMPLE003   SAMPLE004\n1      12345        1_12345     T       C       .       .       PR;AN=10;AC=0   GT      0/0     1/0     0/0     0/\n\n# &gt;zcat file_2.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE005   SAMPLE006   SAMPLE007   SAMPLE008\n1      12345        1_12345     T       C       .       .       PR;AN=10;AC=0   GT      0/0     1/0     0/0     0/\n</code></pre> <p>THE FOLLOWING IS NOT COMPATIBLE with DivBase: here one sample (SAMPLE001) occurs for the exact same variant in both files. DivBase will not be able to process this.</p> <pre><code># &gt;zcat file_1.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE001   SAMPLE002   SAMPLE003   SAMPLE004\n1      12345        1_12345     T       C       .       .       PR;AN=10;AC=0   GT      0/0     1/0     0/0     0/\n\n# &gt;zcat file_2.vcf.gz | grep -v \"^#\" | head\n#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  SAMPLE001   SAMPLE005   SAMPLE006   SAMPLE007\n1      12345        1_12345     T       C       .       .       PR;AN=10;AC=0   GT      0/0     1/0     0/0     0/\n</code></pre> </li> <li> <p>VCF and sidecar sample metadata files are versioned in the DivBase project</p> </li> <li> <p>The system will use the latest version for all queries.</p> <ul> <li>TODO can file version be set with a flag?</li> </ul> </li> </ul> <p>-</p>","boost":2}]}