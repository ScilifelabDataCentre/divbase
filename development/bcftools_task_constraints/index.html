
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A service to manage, query and version VCF files and associated sample metadata">
      
      
      
        <link rel="canonical" href="https://scilifelabdatacentre.github.io/divbase/development/bcftools_task_constraints/">
      
      
        <link rel="prev" href="../bcftools_task_logic/">
      
      
        <link rel="next" href="../task_history_implementation/">
      
      
        
      
      
      <link rel="icon" href="../../assets/img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Bcftools Celery Task Constraints - DivBase</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Bcftools Celery Task Constraints - DivBase" />
<meta property="og:description" content="A service to manage, query and version VCF files and associated sample metadata" />
<meta property="og:image" content="https://scilifelabdatacentre.github.io/divbase/assets/images/social/development/bcftools_task_constraints.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://scilifelabdatacentre.github.io/divbase/development/bcftools_task_constraints/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Bcftools Celery Task Constraints - DivBase" />
<meta property="twitter:description" content="A service to manage, query and version VCF files and associated sample metadata" />
<meta property="twitter:image" content="https://scilifelabdatacentre.github.io/divbase/assets/images/social/development/bcftools_task_constraints.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bcftools-celery-task-constraints" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DivBase" class="md-header__button md-logo" aria-label="DivBase" data-md-component="logo">
      
  <img src="../../assets/img/scilifelab_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DivBase
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bcftools Celery Task Constraints
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2C5.13 2 2 5.13 2 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7M6 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H6zm13-8h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9zm-2.15 5.65L18 15l1.15 3.65z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="light-green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="light-green"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ScilifelabDataCentre/divbase" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    ScilifelabDataCentre/divbase
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  DivBase

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../user-guides/" class="md-tabs__link">
          
  
  
    
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cli/" class="md-tabs__link">
          
  
  
    
  
  CLI Command Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://divbase.scilifelab.se" class="md-tabs__link">
        
  
  
    
  
  Go to DivBase Website

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DivBase" class="md-nav__button md-logo" aria-label="DivBase" data-md-component="logo">
      
  <img src="../../assets/img/scilifelab_logo.png" alt="logo">

    </a>
    DivBase
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ScilifelabDataCentre/divbase" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    ScilifelabDataCentre/divbase
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    DivBase
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    DivBase
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SECURITY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../user-guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    User Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/account-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Account Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/setup_divbase_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup DivBase CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/vcf-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with VCF Files in DivBase
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Running Queries
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Running Queries
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/running-queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/sidecar-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sidecar Metadata TSV files: creating and querying sample metadata files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/vcf-dimensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VCF Dimensions caching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/query-syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DivBase Query Syntax for VCF data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/how-to-create-efficient-divbase-queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to create efficient DivBase queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/tutorial-query-on-public-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Running a query on a public dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/project-versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing Project Versions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CLI Command Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI Command Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/divbase-cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/query/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli query
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli version
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/dimensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli dimensions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/_auto_generated/task-history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    divbase-cli task-history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developer Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-migrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Migrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../celery_task_implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Celery Task Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bcftools_task_logic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bcftools Celery Task Logic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Bcftools Celery Task Constraints
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Bcftools Celery Task Constraints
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          General rules
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vcf-files-need-to-be-sorted-by-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          VCF files need to be sorted by position
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vcf-files-need-to-be-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          VCF files need to be indexed
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#there-cannot-be-duplicate-sample-names-cannot-recur-in-a-single-vcf-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          There cannot be duplicate sample names cannot recur in a single VCF file
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-required-in-the-header" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          What is required in the header?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bcftools-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          bcftools merge
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bcftools merge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#only-records-from-different-vcf-files-can-merged" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Only records from different VCF files can merged
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-unique-across-all-input-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be unique across all input files
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-order-of-the-scaffolds" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          What about the order of the scaffolds?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-there-be-different-variants-in-the-vcf-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Can there be different variants in the VCF files?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-there-be-different-scaffolds-in-the-vcf-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Can there be different scaffolds in the VCF files?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-headers-do-the-need-to-be-the-same" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          what about the headers? do the need to be the same?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-if-one-file-contains-different-info-column-values-than-the-other" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          what if one file contains different INFO column values than the other?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bcftools-concat" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          bcftools concat
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bcftools concat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-identical-across-all-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be identical across all files
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-in-the-same-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be in the same order
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-the-input-files-be-sorted-by-chr-and-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Does the input files be sorted by chr and position?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-the-files-stritcly-be-given-in-the-correct-order-to-produce-sorted-vcf" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Does the files stritcly be given in the correct order to produce sorted VCF?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../task_history_implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task History Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sending-emails/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sending Emails
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3_transfers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    S3 Transfers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring_and_observability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring and observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../worker_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring: Celery Worker Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://divbase.scilifelab.se" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go to DivBase Website
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          General rules
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vcf-files-need-to-be-sorted-by-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          VCF files need to be sorted by position
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vcf-files-need-to-be-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          VCF files need to be indexed
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#there-cannot-be-duplicate-sample-names-cannot-recur-in-a-single-vcf-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          There cannot be duplicate sample names cannot recur in a single VCF file
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-required-in-the-header" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          What is required in the header?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bcftools-merge" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          bcftools merge
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bcftools merge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#only-records-from-different-vcf-files-can-merged" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Only records from different VCF files can merged
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-unique-across-all-input-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be unique across all input files
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-order-of-the-scaffolds" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          What about the order of the scaffolds?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-there-be-different-variants-in-the-vcf-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Can there be different variants in the VCF files?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-there-be-different-scaffolds-in-the-vcf-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Can there be different scaffolds in the VCF files?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-the-headers-do-the-need-to-be-the-same" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          what about the headers? do the need to be the same?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-if-one-file-contains-different-info-column-values-than-the-other" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          what if one file contains different INFO column values than the other?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bcftools-concat" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          bcftools concat
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bcftools concat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-identical-across-all-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be identical across all files
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-names-must-be-in-the-same-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Sample names must be in the same order
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-the-input-files-be-sorted-by-chr-and-position" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Does the input files be sorted by chr and position?
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-the-files-stritcly-be-given-in-the-correct-order-to-produce-sorted-vcf" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Does the files stritcly be given in the correct order to produce sorted VCF?
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/ScilifelabDataCentre/divbase/edit/master/docs/development/bcftools_task_constraints.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/ScilifelabDataCentre/divbase/raw/master/docs/development/bcftools_task_constraints.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="bcftools-celery-task-constraints">Bcftools Celery Task Constraints<a class="headerlink" href="#bcftools-celery-task-constraints" title="Permanent link">&para;</a></h1>
<p>DivBase uses <code>bcftools</code> to perform queries that act on the data contained inside VCF files (see implementation details in <a href="../bcftools_task_logic/">bcftools Celery Task Logic</a>). Thus, DivBase needs to adhere to the syntax and requirements for the different <code>bcftools</code> commands it uses. The queries are run as Celery tasks as defined in <code>tasks.bcftools_query</code> in <code>worker/tasks.py</code> in the <code>divbase-api</code> package. The task logic is based on subsetting each input VCF file seperatelly as temp files, and then eventually merging all temp files. To design and maintain this logic, a list of rules for bcftools operations to combine multiple VCF files into one file is therefore needed. This document aims to map these requirements with specific examples.</p>
<p>Findings from this document has been implemented in the <code>_check_if_samples_can_be_combined_with_bcftools</code> helper function in <code>tasks.py</code>. It uses the VCF dimensions index for the DivBase project to analyse whether or not the input VCFs of a given query fullfil the rules for processing by the bcftools logic in <code>tasks.bcftools_query</code>. If not, the task exits to save on compute resources. The exit happens before the transfer of VCF files to the worker containers from S3 is started.</p>
<h2 id="general-rules">General rules<a class="headerlink" href="#general-rules" title="Permanent link">&para;</a></h2>
<h3 id="vcf-files-need-to-be-sorted-by-position">VCF files need to be sorted by position<a class="headerlink" href="#vcf-files-need-to-be-sorted-by-position" title="Permanent link">&para;</a></h3>
<p>Positions need to be sorted per scaffold. (It is possible to have the scaffolds in different order if the VCF files are indexed, as discussed below.)</p>
<p>If attempting to subset a single VCF file that has unsorted positions, the tool will ask for an index:</p>
<div class="highlight"><pre><span></span><code><span id="__span-0-1">&gt;bcftools view -r 21 tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_coordinates.vcf.gz
</span><span id="__span-0-2">
</span><span id="__span-0-3">[E::idx_find_and_load] Could not retrieve index file for &#39;tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_coordinates.vcf.gz&#39;
</span></code></pre></div>
<p>but indexing is not possible, since it requires sorted positions:</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"> bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_coordinates.vcf.gz
</span><span id="__span-1-2">
</span><span id="__span-1-3">[E::hts_idx_push] Unsorted positions on sequence #1: 22053057 followed by 17504018
</span><span id="__span-1-4">index: failed to create index for &quot;tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_coordinates.vcf.gz&quot;
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>
<p>Check that all VCF files are sorted. This could possibly be done by jobs triggered when a VCF file is uploaded to a bucket? <code>bcftools sort</code> can be used to sort the file.</p>
</li>
<li>
<p>Sorted positions is a major assumption for VCF files, so it is not so likely that users will come to DivBase with unsorted files. But DivBase will need to ensure that all subset files generated by the queries are passed through <code>bcftools sort</code>.</p>
</li>
<li>
<p>Implement a VCF specification checking job to help get the best possible VCFs.</p>
</li>
</ul>
<h3 id="vcf-files-need-to-be-indexed">VCF files need to be indexed<a class="headerlink" href="#vcf-files-need-to-be-indexed" title="Permanent link">&para;</a></h3>
<p>In general, bcftools requires that the VCF files are indexed either with the TBI or CSI index format. <code>bcftools view</code> requires an index, for all it seems, and since that operation is the core of the DivBase bcftools pipe, index files are thus required.. <code>bcftools merge</code> will for instance raise this error if one of the files that are to be combined do not have an index in the same folder as the VCF file; there is a flag <code>--force-no-index</code>, but as mentioned earlier, indexes are needed for other bcftools commands.</p>
<p><code>[E::idx_find_and_load] Could not retrieve index file for '&lt;VCF_FILENAME&gt;'</code></p>
<p>For the commands in this document to work, the following index files needs to be generated:</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1">bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples.vcf.gz
</span><span id="__span-2-2">bcftools index tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz
</span><span id="__span-2-3">bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_break_merge.vcf.gz
</span><span id="__span-2-4">bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_coordinates.vcf.gz
</span><span id="__span-2-5">bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_have_different_scaffolds.vcf.gz
</span><span id="__span-2-6">bcftools index tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_have_different_variants.vcf.gz
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>
<p>The <code>BcftoolsQueryManager</code> class has a method <code>ensure_csi_index</code> that is run for all the VCF files that are operated on in a given query, including temp files.</p>
</li>
<li>
<p>An alternative solution would be to store index files in the bucket along with the VCF files.</p>
</li>
</ul>
<h3 id="there-cannot-be-duplicate-sample-names-cannot-recur-in-a-single-vcf-file">There cannot be duplicate sample names cannot recur in a single VCF file<a class="headerlink" href="#there-cannot-be-duplicate-sample-names-cannot-recur-in-a-single-vcf-file" title="Permanent link">&para;</a></h3>
<p>This should not come as a surprise, but if a VCF file is modified so that the exact same sample name ocurrs in two sample, it cannot even be bgzipped:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1">&gt;bcftools view -Oz -o tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_duplicate_a_sample_name.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_duplicate_a_sample_name.vcf
</span><span id="__span-3-2">
</span><span id="__span-3-3">[E::bcf_hdr_add_sample_len] Duplicated sample name &#39;8_HOM-E57&#39;
</span><span id="__span-3-4">Failed to read from tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_duplicate_a_sample_name.vcf: could not parse header
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>It unlikely that users will come to DivBase with VCF with this error. But it would be easy to implement a function that checks that this does not occur.</li>
</ul>
<h3 id="what-is-required-in-the-header">What is required in the header?<a class="headerlink" href="#what-is-required-in-the-header" title="Permanent link">&para;</a></h3>
<ul>
<li>All scaffolds that are contained in the VCF have to be defined in the header</li>
</ul>
<p><code>[W::vcf_parse] Contig '51' is not defined in the header. (Quick workaround: index the file with tabix.)</code></p>
<p>adding it to the header as ##contig=<ID=51,length=22053058> will resolve this.</p>
<ul>
<li>
<p>TODO: investigate the header requirements further</p>
</li>
<li>
<p>TODO: what happens if there are coordinate that are outside the is within the stated scaffold length in the header?</p>
</li>
</ul>
<h2 id="bcftools-merge">bcftools merge<a class="headerlink" href="#bcftools-merge" title="Permanent link">&para;</a></h2>
<p>As stated in the <a href="https://www.htslib.org/doc/1.1/bcftools.html#merge">bcftools manual</a>, <code>bcftools merge</code> is used to:</p>
<blockquote>
<p>Merge multiple VCF/BCF files from non-overlapping sample sets to create one multi-sample file. For example, when merging file A.vcf.gz containing samples S1, S2 and S3 and file B.vcf.gz containing samples S3 and S4, the output file will contain four samples named S1, S2, S3, 2:S3 and S4.</p>
</blockquote>
<p>Note that it is responsibility of the user to ensure that the sample names are unique across all files. If they are not, the program will exit with an error unless the option --force-samples is given. Note that sample names can be also given explicitly using the --print-header and --use-header options.</p>
<h3 id="only-records-from-different-vcf-files-can-merged">Only records from different VCF files can merged<a class="headerlink" href="#only-records-from-different-vcf-files-can-merged" title="Permanent link">&para;</a></h3>
<p>there is a command called <code>bcftools norm</code> that can do melt operations within a file, but that is not needed for DivBase.</p>
<h3 id="sample-names-must-be-unique-across-all-input-files">Sample names must be unique across all input files<a class="headerlink" href="#sample-names-must-be-unique-across-all-input-files" title="Permanent link">&para;</a></h3>
<p><code>--force-samples</code> can be used to override this, but it gives undesireable results for DivBase</p>
<p>This is allowed since the VCF files have different samples names:</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1">bcftools merge -Ov -o test1.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples.vcf.gz
</span></code></pre></div>
<p>This is not allowed since the second VCF file contains one sample name that is also in the first VCF:</p>
<div class="highlight"><pre><span></span><code><span id="__span-5-1">bcftools merge -Ov -o test2.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_break_merge.vcf.gz
</span></code></pre></div>
<p>It gives the error: <code>Error: Duplicate sample names (5a_HOM-I7), use --force-samples to proceed anyway.</code></p>
<p><strong>Solution:</strong></p>
<ul>
<li>
<p>The VCF dimensions file could store all sample names for all VCF files in the bucket, and then when a query is submitted, a function should check if there are overlapping samples in a manner that cannot be handled by <code>bcftools concat</code> either.</p>
</li>
<li>
<p>A VCF with sample set "S1,S2,S3" cannot be combined with <code>bcftools merge</code> or <code>bcftools concat</code> with a VCF that contains "S3,S4,S5". It cannot use <code>merge</code> since there are overlapping samples. It cannot use <code>concat</code> since there is only a partial overlap and not a complete overlap.</p>
</li>
</ul>
<h3 id="what-about-the-order-of-the-scaffolds">What about the order of the scaffolds?<a class="headerlink" href="#what-about-the-order-of-the-scaffolds" title="Permanent link">&para;</a></h3>
<p>from <code>bcftools merge -help</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1">--no-index  Merge unindexed files, the same chromosomal order is required and -r/-R are not allowed
</span></code></pre></div>
<p>This is not allowed:</p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1">bcftools merge --no-index  -Ov -o test3.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_scaffold_order.vcf.gz
</span></code></pre></div>
<p>and gives this warning from using <code>--no-index</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-8-1">[W::bcf_sr_add_reader] Using multiple unindexed files may produce errors, make sure chromosomes are in the same order!
</span></code></pre></div>
<p>and this error from the incorrect scaffold order:</p>
<div class="highlight"><pre><span></span><code><span id="__span-9-1">[E::_reader_fill_buffer] Sequences out of order, cannot stream multiple unindexed files: tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_scaffold_order.vcf.gz
</span></code></pre></div>
<p>If we ensure that the files are indexed and run the command without the <code>--no-index</code> flag, it works, however:</p>
<div class="highlight"><pre><span></span><code><span id="__span-10-1">bcftools merge -Ov -o test3.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_scramble_scaffold_order.vcf.gz
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>As long as the VCF files are indexed and that the <code>--no-index</code>  is not used, the order of the scaffolds is not a problem.</li>
</ul>
<h3 id="can-there-be-different-variants-in-the-vcf-files">Can there be different variants in the VCF files?<a class="headerlink" href="#can-there-be-different-variants-in-the-vcf-files" title="Permanent link">&para;</a></h3>
<p>Yes! This was probably to be expected, but this example shows it:</p>
<div class="highlight"><pre><span></span><code><span id="__span-11-1">bcftools merge -Ov -o test5.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_have_different_variants.vcf.gz
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>Not much to solve here, so this is more of a conclusion: as long as the sample names do not overlap, the VCF files can have different variant positions and still combine fine.</li>
</ul>
<h3 id="can-there-be-different-scaffolds-in-the-vcf-files">Can there be different scaffolds in the VCF files?<a class="headerlink" href="#can-there-be-different-scaffolds-in-the-vcf-files" title="Permanent link">&para;</a></h3>
<p>Yes! <code>bcftools merge</code> works even if there are no overlapping scaffolds:</p>
<div class="highlight"><pre><span></span><code><span id="__span-12-1">bcftools merge -Ov -o test4.vcf tests/fixtures/HOM_20ind_17SNPs_first_10_samples.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples_with_edit_to_have_different_scaffolds.vcf.gz
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>Again, more of a conclusion of a non-issue: as long as the sample names do not overlap, the VCF files do not need to share any scaffolds between them.</li>
</ul>
<h3 id="what-about-the-headers-do-the-need-to-be-the-same">what about the headers? do the need to be the same?<a class="headerlink" href="#what-about-the-headers-do-the-need-to-be-the-same" title="Permanent link">&para;</a></h3>
<p>TODO: investigate this further</p>
<h3 id="what-if-one-file-contains-different-info-column-values-than-the-other">what if one file contains different INFO column values than the other?<a class="headerlink" href="#what-if-one-file-contains-different-info-column-values-than-the-other" title="Permanent link">&para;</a></h3>
<p>from <code>bcftools merge -help</code>:</p>
<div class="highlight"><pre><span></span><code><span id="__span-13-1">-i, --info-rules TAG:METHOD,..    Rules for merging INFO fields (method is one of sum,avg,min,max,join) or &quot;-&quot; to turn off the default [DP:sum,DP4:sum]
</span></code></pre></div>
<p>TODO: investigate this further</p>
<h2 id="bcftools-concat">bcftools concat<a class="headerlink" href="#bcftools-concat" title="Permanent link">&para;</a></h2>
<p>As stated in the <a href="https://www.htslib.org/doc/1.1/bcftools.html#concat">bcftools manual</a>, <code>bcftools concat</code> is used to:</p>
<blockquote>
<p>Concatenate or combine VCF/BCF files. All source files must have the same sample columns appearing in the same order. Can be used, for example, to concatenate chromosome VCFs into one VCF, or combine a SNP VCF and an indel VCF into one. The input files must be sorted by chr and position. The files must be given in the correct order to produce sorted VCF on output unless the -a, --allow-overlaps option is specified.</p>
</blockquote>
<h3 id="sample-names-must-be-identical-across-all-files">Sample names must be identical across all files<a class="headerlink" href="#sample-names-must-be-identical-across-all-files" title="Permanent link">&para;</a></h3>
<p>This is allowed:</p>
<div class="highlight"><pre><span></span><code><span id="__span-14-1">bcftools concat -Ov -o test6.vcf tests/fixtures/HOM_20ind_17SNPs.1.vcf.gz tests/fixtures/HOM_20ind_17SNPs.4.vcf.gz
</span></code></pre></div>
<p>But this is not allowed:</p>
<div class="highlight"><pre><span></span><code><span id="__span-15-1">&gt;bcftools concat -Ov -o test6.vcf tests/fixtures/HOM_20ind_17SNPs.1.vcf.gz tests/fixtures/HOM_20ind_17SNPs_last_10_samples.vcf.gz
</span><span id="__span-15-2">
</span><span id="__span-15-3">Checking the headers and starting positions of 2 files
</span><span id="__span-15-4">Different number of samples in tests/fixtures/HOM_20ind_17SNPs_last_10_samples.vcf.gz. Perhaps &quot;bcftools merge&quot; is what you are looking for?
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>
<p>There is logic in the <code>BcftoolsQueryManager</code> class checks the sample sets across the temp files generated during the pipeline and determined if some files should be processed with <code>concat</code> or <code>merge</code>. It can also handle the more complex  mixed concat-merge case where there are two groups for VCF files: files that contain completely overlapping samples (concat); and files with samples that do not overlap whatsoever with any other file in the query (merge). Thus, concat can first be performed and the resulting temp file is merged together with the other files.</p>
</li>
<li>
<p>However, anything that deviates from the requirements of just <code>merge</code>, just <code>concat</code>, or the specific mixed concat-merge case described in the previous bullet, should raise an error to the user to ask them to change their query or even how they have arranged their samples in their bucket.</p>
</li>
</ul>
<h3 id="sample-names-must-be-in-the-same-order">Sample names must be in the same order<a class="headerlink" href="#sample-names-must-be-in-the-same-order" title="Permanent link">&para;</a></h3>
<p>This is not allowed:</p>
<div class="highlight"><pre><span></span><code><span id="__span-16-1">&gt;bcftools concat -Ov -o test6.vcf tests/fixtures/HOM_20ind_17SNPs.1.vcf.gz tests/fixtures/HOM_20ind_17SNPs.4_with_edits_to_change_sample_order.vcf
</span><span id="__span-16-2">
</span><span id="__span-16-3">Checking the headers and starting positions of 2 files
</span><span id="__span-16-4">Different sample names in tests/fixtures/HOM_20ind_17SNPs.4_with_edits_to_change_sample_order.vcf. Perhaps &quot;bcftools merge&quot; is what you are looking for?
</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ul>
<li>As proposed earlier in the document, the VCF dimensions file could store all sample names for all VCF files in the bucket, but it should also store them in immutable order so that it is possible to check not only that they sample names overlap, but that that the sample name order is preserved.</li>
</ul>
<h3 id="does-the-input-files-be-sorted-by-chr-and-position">Does the input files be sorted by chr and position?<a class="headerlink" href="#does-the-input-files-be-sorted-by-chr-and-position" title="Permanent link">&para;</a></h3>
<p>TODO: investigate this further</p>
<h3 id="does-the-files-stritcly-be-given-in-the-correct-order-to-produce-sorted-vcf">Does the files stritcly be given in the correct order to produce sorted VCF?<a class="headerlink" href="#does-the-files-stritcly-be-given-in-the-correct-order-to-produce-sorted-vcf" title="Permanent link">&para;</a></h3>
<p>TODO: investigate this further</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../bcftools_task_logic/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Bcftools Celery Task Logic">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Bcftools Celery Task Logic
              </div>
            </div>
          </a>
        
        
          
          <a href="../task_history_implementation/" class="md-footer__link md-footer__link--next" aria-label="Next: Task History Implementation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Task History Implementation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ScilifelabDataCentre/divbase" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
    <a href="https://divbase.scilifelab.se" target="_blank" rel="noopener" title="Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "navigation.expand", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>